# Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° ĞºĞ»Ğ°ÑÑĞ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² Ñ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸ĞµĞ¼ Ğ˜Ğ˜

Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ ĞºĞ»Ğ°ÑÑĞ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ Ğ´Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ² Ğ¸ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² Ğ¿Ğ¾ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ°Ğ¼ Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ SBERT ÑĞ¼Ğ±ĞµĞ´Ğ´Ğ¸Ğ½Ğ³Ğ¾Ğ² Ğ¸ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸.

## ğŸ“‹ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹

### ğŸ—ï¸ ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

```
â”œâ”€â”€ app_nw.py                    # ğŸŸ¢ ĞĞ¡ĞĞĞ’ĞĞĞ• WEB-ĞŸĞ Ğ˜Ğ›ĞĞ–Ğ•ĞĞ˜Ğ• (Streamlit)
â”œâ”€â”€ classification.py            # ğŸŸ¢ Ğ¡ĞšĞ Ğ˜ĞŸĞ¢ ĞšĞ›ĞĞ¡Ğ¡Ğ˜Ğ¤Ğ˜ĞšĞĞ¦Ğ˜Ğ˜ Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢ĞĞ’
â”œâ”€â”€ index_templates.py           # ğŸŸ¢ Ğ˜ĞĞ”Ğ•ĞšĞ¡ĞĞ¦Ğ˜Ğ¯ Ğ¨ĞĞ‘Ğ›ĞĞĞĞ’ Ğ’ Ğ‘Ğ”
â”œâ”€â”€ doc_rebuild_app.py          # ğŸ”´ ĞĞ• Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—Ğ£Ğ•Ğ¢Ğ¡Ğ¯
â”œâ”€â”€ run_apps.py                 # ğŸ”´ ĞĞ• Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—Ğ£Ğ•Ğ¢Ğ¡Ğ¯
â””â”€â”€ schema.sql                  # ğŸŸ¢ Ğ¡Ğ¥Ğ•ĞœĞ Ğ‘ĞĞ—Ğ« Ğ”ĞĞĞĞ«Ğ¥
```

### ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹

```
modules/
â”œâ”€â”€ __init__.py                 # ğŸŸ¢ Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ°ĞºĞµÑ‚Ğ°
â”œâ”€â”€ db.py                       # ğŸŸ¢ ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜Ğ™ - Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ PostgreSQL
â”œâ”€â”€ embeddings.py               # ğŸŸ¢ ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜Ğ™ - SBERT ÑĞ¼Ğ±ĞµĞ´Ğ´Ğ¸Ğ½Ğ³Ğ¸
â”œâ”€â”€ parsers.py                  # ğŸŸ¢ ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜Ğ™ - Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²
â”œâ”€â”€ docx_parser.py              # ğŸŸ¢ ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ DOCX Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
â”œâ”€â”€ pdf_parser.py               # ğŸŸ¢ ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ PDF Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
â”œâ”€â”€ fast_adaptive_chunker.py    # ğŸŸ¢ Ğ£Ğ¼Ğ½Ğ¾Ğµ Ñ€Ğ°Ğ·Ğ±Ğ¸ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ñ‡Ğ°Ğ½ĞºĞ¸
â”œâ”€â”€ extractor_names.py          # ğŸŸ¢ Ğ˜Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ğµ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²
â”œâ”€â”€ audit_standart.py           # ğŸŸ¢ ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜Ğ™ - Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸
â””â”€â”€ models_data.py              # ğŸ”´ ĞĞ• Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—Ğ£Ğ•Ğ¢Ğ¡Ğ¯
```

### ğŸ—„ï¸ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

```
data/
â”œâ”€â”€ templates/                  # ğŸŸ¢ Ğ¨ĞĞ‘Ğ›ĞĞĞ« Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢ĞĞ’ (48 DOCX, 3 PDF)
â””â”€â”€ templates_2/                # ğŸŸ¢ Ğ”ĞĞŸĞĞ›ĞĞ˜Ğ¢Ğ•Ğ›Ğ¬ĞĞ«Ğ• Ğ¨ĞĞ‘Ğ›ĞĞĞ« (1 DOCX)

input/
â”œâ”€â”€ insert_doc/                 # ğŸŸ¢ ĞĞ¾Ğ²Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹
â”‚   â”œâ”€â”€ standart/              # ğŸŸ¢ Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğµ Ğ´Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€Ñ‹ (5 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²)
â”‚   â””â”€â”€ no_standart/           # ğŸŸ¢ ĞĞµÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğµ Ğ´Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€Ñ‹ (5 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²)
â”œâ”€â”€ isert1/                    # ğŸŸ¢ Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ½Ğ°Ğ±Ğ¾Ñ€ 1 (7 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²)
â”œâ”€â”€ isert2/                    # ğŸŸ¢ Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ½Ğ°Ğ±Ğ¾Ñ€ 2 (8 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²)
â”œâ”€â”€ isert3/                    # ğŸŸ¢ Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ½Ğ°Ğ±Ğ¾Ñ€ 3 (4 Ñ„Ğ°Ğ¹Ğ»Ğ°)
â””â”€â”€ isert4/                    # ğŸŸ¢ Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ½Ğ°Ğ±Ğ¾Ñ€ 4 (4 Ñ„Ğ°Ğ¹Ğ»Ğ°)

outputs/
â”œâ”€â”€ cache/                     # ğŸŸ¢ ĞšĞµÑˆ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² (7831 PKL)
â”œâ”€â”€ index/                     # ğŸŸ¢ Ğ˜Ğ½Ğ´ĞµĞºÑÑ‹ ÑĞ¼Ğ±ĞµĞ´Ğ´Ğ¸Ğ½Ğ³Ğ¾Ğ²
â””â”€â”€ media/                     # ğŸŸ¢ Ğ˜Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ½Ñ‹Ğµ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ (50 PNG)

logo/
â””â”€â”€ logo_w.svg                 # ğŸŸ¢ Ğ›Ğ¾Ğ³Ğ¾Ñ‚Ğ¸Ğ¿ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

sours/                         # ğŸŸ¢ Ğ˜ÑÑ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹
â”œâ”€â”€ requirements.txt           # ğŸŸ¢ Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Python
â”œâ”€â”€ example.txt                # ğŸŸ¢ ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ñ‚ĞµĞºÑÑ‚Ğ°
â””â”€â”€ Ğ”Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€ Ğ¿Ğ¾ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾Ğ¹ Ñ„Ğ¾Ñ€Ğ¼Ğµ.txt  # ğŸŸ¢ ĞĞ±Ñ€Ğ°Ğ·ĞµÑ† Ğ´Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ°
```

### ğŸ¤– ĞœĞ¾Ğ´ĞµĞ»Ğ¸ Ğ˜Ğ˜

```
models/
â”œâ”€â”€ sbert_large_nlu_ru/         # ğŸŸ¢ ĞĞ¡ĞĞĞ’ĞĞĞ¯ - Ñ€ÑƒÑÑĞºĞ°Ñ SBERT Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ
â”œâ”€â”€ reranker_ru/                # ğŸŸ¡ Ğ”ĞĞ¡Ğ¢Ğ£ĞŸĞĞ - Ñ€ĞµÑ€Ğ°Ğ½ĞºĞµÑ€ Ğ´Ğ»Ñ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ°
â””â”€â”€ llm/gguf/                   # ğŸŸ¡ Ğ”ĞĞ¡Ğ¢Ğ£ĞŸĞĞ - Phi-3-mini Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ°Ñ LLM
    â””â”€â”€ Phi-3-mini-4k-instruct-q4.gguf
```

### âš™ï¸ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

```
configs/
â””â”€â”€ app_config.yaml             # ğŸŸ¢ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

schema.sql                      # ğŸŸ¢ ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜Ğ™ - ÑÑ…ĞµĞ¼Ğ° PostgreSQL Ğ‘Ğ”
```

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ**: ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¶ĞµÑÑ‚ĞºĞ¾ Ğ·Ğ°ĞºĞ¾Ğ´Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹ Ğ² Ğ¼Ğ¾Ğ´ÑƒĞ»Ğµ `modules/audit_standart.py`

## ğŸ”„ ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

```mermaid
graph TD
    A[Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°] --> B[ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ parsers.py]
    B --> C[Ğ˜Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ğµ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ extractor_names.py]
    C --> D[Ğ Ğ°Ğ·Ğ±Ğ¸ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ñ‡Ğ°Ğ½ĞºĞ¸ fast_adaptive_chunker.py]
    D --> E[Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑĞ¼Ğ±ĞµĞ´Ğ´Ğ¸Ğ½Ğ³Ğ¾Ğ² embeddings.py]
    E --> F[ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾Ñ…Ğ¾Ğ¶Ğ¸Ñ… ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ¾Ğ² db.py]
    F --> G[ĞĞ½Ğ°Ğ»Ğ¸Ğ· ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸ audit_standart.py]
    G --> H[ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ² app_nw.py]
```

## ğŸ“Š Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… PostgreSQL

### Ğ¡Ñ…ĞµĞ¼Ğ° Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†:

```sql
-- Ğ¨ĞĞ‘Ğ›ĞĞĞ«
templates (id, name, version, created_at, is_active, embedding, title, title_emb)
template_chunks (chunk_id, template_id, ord, heading, text, embedding)

-- Ğ’Ğ¥ĞĞ”Ğ¯Ğ©Ğ˜Ğ• Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢Ğ«
docs_inserted (id, name, version, created_at, embedding, similar_id, 
               similarity_score, session_id, user_choice_doc_id, title, title_emb)
docs_inserted_chunks (chunk_id, doc_id, ord, heading, text, embedding)
```

## ğŸ“ Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ğ¸ Ğ¿Ğ¾ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

### 1ï¸âƒ£ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ñ‹Ñ… ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ¾Ğ²

#### Ğ¨Ğ°Ğ³ 1: ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ¾Ğ²
```bash
# Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ñ‹ Ğ² Ğ¾ÑĞ½Ğ¾Ğ²Ğ½ÑƒÑ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ
cp Ğ²Ğ°Ñˆ_ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½.docx data/templates/
# Ğ¸Ğ»Ğ¸ Ğ² Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½ÑƒÑ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ
cp Ğ²Ğ°Ñˆ_ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½.docx data/templates_2/
# ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµĞ¼Ñ‹Ğµ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ñ‹: DOCX, PDF
cp Ğ²Ğ°Ñˆ_ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½.pdf data/templates/
```

#### Ğ¨Ğ°Ğ³ 2: Ğ˜Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ñ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ¾Ğ²
```bash
# ĞĞºÑ‚Ğ¸Ğ²Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ conda Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ
conda activate corp_pp_doc

# Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Ğ¸Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ñ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ñ… ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ¾Ğ²
python index_templates.py \
    --templates-dir ./data/templates \
    --sbert-path ./models/sbert_large_nlu_ru \
    --embedding-dim 1024 \
    --chunk-size 350 \
    --batch-size 16 \
    --device cpu \
    --use-db

# Ğ•ÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾, Ğ¿Ñ€Ğ¾Ğ¸Ğ½Ğ´ĞµĞºÑĞ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ñ‹
python index_templates.py \
    --templates-dir ./data/templates_2 \
    --sbert-path ./models/sbert_large_nlu_ru \
    --embedding-dim 1024 \
    --chunk-size 350 \
    --batch-size 16 \
    --device cpu \
    --use-db
```

#### ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ¸Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ğ¸:
- `--templates-dir`: ĞŸÑƒÑ‚ÑŒ Ğº Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸ Ñ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ°Ğ¼Ğ¸
- `--sbert-path`: ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸ SBERT
- `--embedding-dim`: Ğ Ğ°Ğ·Ğ¼ĞµÑ€Ğ½Ğ¾ÑÑ‚ÑŒ ÑĞ¼Ğ±ĞµĞ´Ğ´Ğ¸Ğ½Ğ³Ğ¾Ğ² (1024)
- `--chunk-size`: Ğ Ğ°Ğ·Ğ¼ĞµÑ€ Ñ‡Ğ°Ğ½ĞºĞ° Ğ² Ñ‚Ğ¾ĞºĞµĞ½Ğ°Ñ… (350)
- `--batch-size`: Ğ Ğ°Ğ·Ğ¼ĞµÑ€ Ğ±Ğ°Ñ‚Ñ‡Ğ° (16)
- `--device`: Ğ£ÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ¾ (cpu/cuda)
- `--use-db`: Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ² PostgreSQL

#### Ğ¨Ğ°Ğ³ 3: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¸Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ğ¸
```bash
# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ, Ñ‡Ñ‚Ğ¾ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ñ‹ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ñ‹ Ğ² Ğ‘Ğ”
python -c "
from modules.db import DB
db = DB()
templates = db.get_all_templates()
print(f'Ğ’ÑĞµĞ³Ğ¾ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ¾Ğ²: {len(templates)}')
for t in templates[-5:]:
    print(f'- {t[\"name\"]} (ID: {t[\"id\"][:8]}...)')
"
```

### 2ï¸âƒ£ ĞŸÑƒÑ‚ÑŒ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ° Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ

#### ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°:

```
1. Ğ—ĞĞ“Ğ Ğ£Ğ—ĞšĞ (app_nw.py)
   â†“
   ğŸ“ Ğ’Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ°Ñ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ tempfile.TemporaryDirectory()
   â†“
   ğŸ’¾ Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ°: temp_dir/filename.docx

2. ĞšĞ›ĞĞ¡Ğ¡Ğ˜Ğ¤Ğ˜ĞšĞĞ¦Ğ˜Ğ¯ (classification.py)
   â†“
   ğŸ“– ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³: parsers.py â†’ parse_file_to_elements()
   â†“
   ğŸ·ï¸ Ğ˜Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ğµ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ: extractor_names.py â†’ extract_title_universal()
   â†“
   âœ‚ï¸ Ğ§Ğ°Ğ½ĞºĞ¸Ğ½Ğ³: fast_adaptive_chunker.py â†’ chunk_elements()
   â†“
   ğŸ§  Ğ­Ğ¼Ğ±ĞµĞ´Ğ´Ğ¸Ğ½Ğ³Ğ¸: embeddings.py â†’ EmbeddingBackend.encode()
   â†“
   ğŸ” ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾Ñ…Ğ¾Ğ¶Ğ¸Ñ…: db.py â†’ find_similar_documents_enhanced()

3. Ğ¡ĞĞ¥Ğ ĞĞĞ•ĞĞ˜Ğ• (db.py)
   â†“
   ğŸ’¾ docs_inserted: Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğµ
   â†“
   ğŸ’¾ docs_inserted_chunks: Ñ‡Ğ°Ğ½ĞºĞ¸ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ° Ñ ÑĞ¼Ğ±ĞµĞ´Ğ´Ğ¸Ğ½Ğ³Ğ°Ğ¼Ğ¸

4. ĞĞĞĞ›Ğ˜Ğ— Ğ¡Ğ¢ĞĞĞ”ĞĞ Ğ¢ĞĞĞ¡Ğ¢Ğ˜ (audit_standart.py)
   â†“
   ğŸ“‹ check_contract_standardness(): Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· Ğ¿Ğ¾ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°Ğ¼
   â†“
   ğŸ“Š Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: STANDARD/NONSTANDARD/UNKNOWN + Ğ½Ğ°Ñ€ÑƒÑˆĞµĞ½Ğ¸Ñ

5. ĞĞ¢ĞĞ‘Ğ ĞĞ–Ğ•ĞĞ˜Ğ• (app_nw.py)
   â†“
   ğŸ“ˆ Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ²
   â†“
   ğŸ¯ Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ
   â†“
   âš–ï¸ ĞĞ½Ğ°Ğ»Ğ¸Ğ· ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸
```

#### Ğ’Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹:
- **Ğ’Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹**: `input/` (Ğ¿Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ)
- **Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½Ğ½Ñ‹Ğµ Ñ‡ĞµÑ€ĞµĞ· Ğ²ĞµĞ±**: `tempfile.TemporaryDirectory()` (Ğ°Ğ²Ñ‚Ğ¾ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ)
- **ĞšĞµÑˆ Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³Ğ°**: `outputs/cache/*.pkl` (Ğ¿Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ñ‹Ğ¹ ĞºĞµÑˆ)

## ğŸš€ Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ

### 1ï¸âƒ£ ĞšÑ€Ğ°Ñ‚ĞºĞ¾ÑÑ€Ğ¾Ñ‡Ğ½Ñ‹Ğµ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ (1-2 Ğ½ĞµĞ´ĞµĞ»Ğ¸)

#### A. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Reranker Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸
```python
# Ğ’ modules/embeddings.py Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ:
class RerankerBackend:
    def __init__(self, model_path="./models/reranker_ru"):
        from transformers import AutoTokenizer, AutoModelForSequenceClassification
        self.tokenizer = AutoTokenizer.from_pretrained(model_path)
        self.model = AutoModelForSequenceClassification.from_pretrained(model_path)
    
    def rerank(self, query: str, candidates: List[str], top_k: int = 5):
        # Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ€ĞµÑ€Ğ°Ğ½ĞºĞ¸Ğ½Ğ³Ğ° Ğ´Ğ»Ñ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸
        pass
```

#### B. Ğ£Ğ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ğµ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ°
- âœ… Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑ-Ğ±Ğ°Ñ€ Ğ´Ğ»Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸
- âœ… Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² Ğ¿Ğ¾ Ñ‚Ğ¸Ğ¿Ğ°Ğ¼
- âœ… Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ² Ğ² Excel/PDF
- âœ… Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ Ğ´Ğ°Ñ‚Ğµ/Ñ‚Ğ¸Ğ¿Ñƒ/ÑÑ…Ğ¾Ğ¶ĞµÑÑ‚Ğ¸

#### C. ĞšĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ
```python
# Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Redis Ğ´Ğ»Ñ ĞºĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ ÑĞ¼Ğ±ĞµĞ´Ğ´Ğ¸Ğ½Ğ³Ğ¾Ğ²
import redis
r = redis.Redis(host='localhost', port=6379, db=0)

def get_cached_embedding(text_hash):
    return r.get(f"emb:{text_hash}")

def cache_embedding(text_hash, embedding):
    r.set(f"emb:{text_hash}", embedding.tobytes())
```

### 2ï¸âƒ£ Ğ¡Ñ€ĞµĞ´Ğ½ĞµÑÑ€Ğ¾Ñ‡Ğ½Ñ‹Ğµ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ (1-2 Ğ¼ĞµÑÑÑ†Ğ°)

#### A. Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ LLM Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸ (Phi-3-mini)
```python
# ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ: modules/llm_analyzer.py
class LocalLLMAnalyzer:
    def __init__(self, model_path="./models/llm/gguf/Phi-3-mini-4k-instruct-q4.gguf"):
        from llama_cpp import Llama
        self.llm = Llama(model_path=model_path, n_ctx=4096)
    
    def analyze_contract_differences(self, doc_text: str, template_text: str):
        prompt = f"""
        Ğ¡Ñ€Ğ°Ğ²Ğ½Ğ¸ Ğ´Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€ Ñ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ¾Ğ¼ Ğ¸ Ğ½Ğ°Ğ¹Ğ´Ğ¸ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ñ:
        
        Ğ¨ĞĞ‘Ğ›ĞĞ:
        {template_text[:2000]}
        
        Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢:
        {doc_text[:2000]}
        
        ĞĞ°Ğ¹Ğ´Ğ¸ ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ñ:
        """
        return self.llm(prompt, max_tokens=512)
```

#### B. ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ
- âœ… Ğ¡Ğ±Ğ¾Ñ€ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ¾Ğ¹ ÑĞ²ÑĞ·Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹
- âœ… ĞŸĞµÑ€ĞµĞ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸ Ğ½Ğ° Ğ½Ğ¾Ğ²Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
- âœ… A/B Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… Ğ¿Ğ¾Ñ€Ğ¾Ğ³Ğ¾Ğ² ÑÑ…Ğ¾Ğ¶ĞµÑÑ‚Ğ¸

#### C. Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ğ°Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°
```python
# modules/analytics.py
class DocumentAnalytics:
    def analyze_trends(self):
        # Ğ¢Ñ€ĞµĞ½Ğ´Ñ‹ Ğ¿Ğ¾ Ñ‚Ğ¸Ğ¿Ğ°Ğ¼ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²
        # Ğ§Ğ°ÑÑ‚Ğ¾Ñ‚Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ¾Ğ²
        # Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ½Ğ°Ñ€ÑƒÑˆĞµĞ½Ğ¸Ğ¹ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸
        pass
    
    def generate_report(self, period: str):
        # ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¾Ñ‚Ñ‡ĞµÑ‚Ñ‹
        pass
```

### 3ï¸âƒ£ Ğ”Ğ¾Ğ»Ğ³Ğ¾ÑÑ€Ğ¾Ñ‡Ğ½Ñ‹Ğµ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ (3-6 Ğ¼ĞµÑÑÑ†ĞµĞ²)

#### A. ĞœĞ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑĞ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚   API Gateway   â”‚    â”‚   Auth Service  â”‚
â”‚   (Streamlit)   â”‚â—„â”€â”€â–ºâ”‚   (FastAPI)     â”‚â—„â”€â”€â–ºâ”‚   (JWT/OAuth)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚               â”‚               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
        â”‚ Classificationâ”‚ â”‚  Templates  â”‚ â”‚  Analytics â”‚
        â”‚   Service     â”‚ â”‚   Service   â”‚ â”‚   Service  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   Database    â”‚
                        â”‚ (PostgreSQL + â”‚
                        â”‚    Redis)     â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### B. ĞŸÑ€Ğ¾Ğ´Ğ²Ğ¸Ğ½ÑƒÑ‚Ñ‹Ğ¹ ML Pipeline
```python
# ml_pipeline/
â”œâ”€â”€ feature_engineering.py     # Ğ˜Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸Ğ·Ğ½Ğ°ĞºĞ¾Ğ²
â”œâ”€â”€ model_training.py          # ĞĞ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹
â”œâ”€â”€ model_evaluation.py        # ĞÑ†ĞµĞ½ĞºĞ° ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ°
â”œâ”€â”€ hyperparameter_tuning.py   # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²
â””â”€â”€ deployment.py              # Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹ Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹
```

#### C. Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¼Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°Ğ¼Ğ¸
- âœ… API Ğ´Ğ»Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ñ CRM/ERP
- âœ… Webhook Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸
- âœ… Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ ÑĞ»ĞµĞºÑ‚Ñ€Ğ¾Ğ½Ğ½Ğ¾Ğ¹ Ğ¿Ğ¾Ñ‡Ñ‚Ğ¾Ğ¹
- âœ… Ğ¡Ğ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ Ğ¾Ğ±Ğ»Ğ°Ñ‡Ğ½Ñ‹Ğ¼Ğ¸ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğ°Ğ¼Ğ¸

### 4ï¸âƒ£ Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ

#### A. ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¸ Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
```python
# Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² requirements.txt:
# prometheus-client
# grafana-api
# structlog

import structlog
logger = structlog.get_logger()

# ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ°
from prometheus_client import Counter, Histogram
classification_requests = Counter('classification_requests_total')
processing_time = Histogram('document_processing_seconds')
```

#### B. Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
```python
# tests/
â”œâ”€â”€ test_classification.py     # Ğ¢ĞµÑÑ‚Ñ‹ ĞºĞ»Ğ°ÑÑĞ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸
â”œâ”€â”€ test_embeddings.py         # Ğ¢ĞµÑÑ‚Ñ‹ ÑĞ¼Ğ±ĞµĞ´Ğ´Ğ¸Ğ½Ğ³Ğ¾Ğ²
â”œâ”€â”€ test_db.py                 # Ğ¢ĞµÑÑ‚Ñ‹ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
â”œâ”€â”€ test_parsers.py            # Ğ¢ĞµÑÑ‚Ñ‹ Ğ¿Ğ°Ñ€ÑĞµÑ€Ğ¾Ğ²
â””â”€â”€ test_integration.py        # Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ñ‹
```

#### C. Docker ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
```dockerfile
# Dockerfile
FROM python:3.9-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .
EXPOSE 8501

CMD ["streamlit", "run", "app_nw.py", "--server.address", "0.0.0.0"]
```

## ğŸ”§ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ

### Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ğµ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:
- **Python**: 3.9+
- **PostgreSQL**: 12+ Ñ Ñ€Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¸ĞµĞ¼ vector
- **RAM**: 8GB+ (Ğ´Ğ»Ñ SBERT Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸)
- **Storage**: 10GB+ (Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹ Ğ¸ ĞºĞµÑˆĞ°)

### Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹:
```bash
# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ conda Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ
conda create -n corp_pp_doc python=3.9
conda activate corp_pp_doc

# Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹
pip install -r sours/requirements.txt

# ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° PostgreSQL
export DOCS_PG_DSN="postgresql://user:password@localhost:5432/documents_cem"

# Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑÑ…ĞµĞ¼Ñ‹ Ğ‘Ğ”
psql -d documents_cem -f schema.sql
```

## ğŸ“ˆ ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸ ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ°

### Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğµ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»Ğ¸:
- **Ğ¢Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ ĞºĞ»Ğ°ÑÑĞ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸**: ~85% (Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ñ€Ğ¾Ğ³Ğµ 80%)
- **Ğ’Ñ€ĞµĞ¼Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸**: 30-60 ÑĞµĞº/Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚
- **Ğ Ğ°Ğ·Ğ¼ĞµÑ€ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸**: 1.3GB (SBERT)
- **ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµĞ¼Ñ‹Ğµ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ñ‹**: DOCX, PDF, TXT

### Ğ¦ĞµĞ»ĞµĞ²Ñ‹Ğµ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»Ğ¸:
- **Ğ¢Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ ĞºĞ»Ğ°ÑÑĞ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸**: 95%+
- **Ğ’Ñ€ĞµĞ¼Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸**: <10 ÑĞµĞº/Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚
- **ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¾Ğ²**: +DOC, RTF, ODT
- **ĞœĞ½Ğ¾Ğ³Ğ¾ÑĞ·Ñ‹Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ**: EN, DE, FR

## ğŸ› Ğ˜Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹

1. **ĞœĞµĞ´Ğ»ĞµĞ½Ğ½Ğ°Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ñ… PDF** - Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ pdf_parser.py
2. **Ğ’Ñ‹ÑĞ¾ĞºĞ¾Ğµ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸** - Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ batch processing
3. **ĞÑ‚ÑÑƒÑ‚ÑÑ‚Ğ²Ğ¸Ğµ Ğ²ĞµÑ€ÑĞ¸Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ¾Ğ²** - Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ git-like Ğ²ĞµÑ€ÑĞ¸Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
4. **ĞĞµÑ‚ Ñ€ĞµĞ·ĞµÑ€Ğ²Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ‘Ğ”** - Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ±ÑĞºĞ°Ğ¿Ñ‹
5. **ĞÑ‚ÑÑƒÑ‚ÑÑ‚Ğ²Ğ¸Ğµ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ñ… Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ¿Ğ¾Ğ»Ğ¸Ñ‚Ğ¸Ğº** - Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ¶ĞµÑÑ‚ĞºĞ¾ Ğ·Ğ°ĞºĞ¾Ğ´Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹ Ğ² audit_standart.py

## ğŸ“š ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ´Ğ»Ñ Ğ¸Ğ·ÑƒÑ‡ĞµĞ½Ğ¸Ñ

- **ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ**: `app_nw.py`
- **ĞšĞ»Ğ°ÑÑĞ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ**: `classification.py`
- **Ğ˜Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ñ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ¾Ğ²**: `index_templates.py`
- **Ğ¡Ñ…ĞµĞ¼Ğ° Ğ‘Ğ”**: `schema.sql`
- **ĞœĞ¾Ğ´ÑƒĞ»ÑŒ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸**: `modules/audit_standart.py`
- **Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ‘Ğ”**: `modules/db.py`
- **Ğ­Ğ¼Ğ±ĞµĞ´Ğ´Ğ¸Ğ½Ğ³Ğ¸**: `modules/embeddings.py`

---

**Ğ’ĞµÑ€ÑĞ¸Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸**: 1.0  
**ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½ĞµĞµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ**: $(date)  
**ĞĞ²Ñ‚Ğ¾Ñ€**: AI Assistant  
**ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹**: [Ğ²Ğ°Ñˆ email]
